ORG 1000H
CONT DB 0    ;CONTADOR LETRAS COINCIDEN
CADENA DB "ARENERA"
FIN_CADENA DB ?



ORG 3000H  ; Subrutina
EQUALS: PUSH AX
PUSH BX
PUSH CX
PUSH DX
MOV BX, AX
   MOV AL, [BX]   ;PARA QUE AGARRE UNA LETRA
   MOV BX, CX
   MOV CL, [BX]
   CMP AL, CL
   JZ DEVOLVER
   MOV DL, 00H
   MOV BX,SP
   ADD BX,10
   MOV [BX],DL   ;GUARDAMOS EL VALOR EN LA PILA
   POP DX
   POP CX
   POP BX
   POP AX 
   JMP FIN1

   DEVOLVER:
   MOV DL, 0FFH
   MOV BX,SP
   ADD BX,10
   MOV [BX],DL   ;GUARDAMOS EL VALOR EN LA PILA
   POP DX
   POP CX
   POP BX
   POP AX
   
   JMP FIN1

FIN1:
    RET



ORG 2000H   ; Programa Ppal.
MOV AX, OFFSET CADENA
MOV CX, OFFSET FIN_CADENA 
DEC CX; CX TIENE EL ULTIMO ELEMENTO DE CADENA
MOV DX,0     ;USAMOS DH PARA CONTAR

LOOP: PUSH DX ;DL PARA GUARDAR RESULT
   CALL EQUALS
   POP DX     ; ACA ESTA EN DL EL RESULT
   INC AX
   DEC CX
   CMP DL,0FFH ;VER SI DIO IGUAL
   JNZ FIN 
   INC DH   ;LETRAS COINCIDEN
   CMP CX, AX
   JZ FIN         ;CUANDO LLEGAN A LA MISMA POS
   JNS LOOP ;CUANDO AX>CX,SALE LOOP 
   JMP FIN




	 	FIN:MOV CONT,DH
    HLT
	 	END